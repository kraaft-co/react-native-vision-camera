{"version":3,"names":["hasWorklets","isAsyncContextBusy","value","runOnAsyncContext","_frame","_func","CameraRuntimeError","assertJSIAvailable","Worklets","require","createSharedValue","asyncContext","createContext","createRunInContextFn","frame","func","decrementRefCount","e","proxy","getFrameProcessorPlugin","removeFrameProcessor","setFrameProcessor","result","CameraModule","installFrameProcessorBindings","global","VisionCameraProxy","getLastFrameProcessorCall","frameProcessorFuncId","__frameProcessorRunAtTargetFpsMap","setLastFrameProcessorCall","runAtTargetFps","fps","funcId","__workletHash","targetIntervalMs","now","performance","diffToLastCall","undefined","runAsync","incrementRefCount"],"sourceRoot":"../../src","sources":["FrameProcessorPlugins.ts"],"mappings":"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"}